<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>过滤器 - 模板语法 - Vue.js</title>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
  </head>
  <body>
    <div id="app">
      <!-- #过滤器 -->
      <!-- 过滤器是 JavaScript 函数 -->
      <!-- 在 mustache 中绑定过滤器 -->
      <p>原始值：{{ message }}</p>
      <p>过滤后的值：{{ message | capitalize }}</p>
      <!-- 在 v-bind 表达式中绑定过滤器 -->
      <div v-bind:id="rawId | formatId"></div>
      <!-- 过滤器串联 -->
      <p>过滤器串联过滤后的值：{{ message | filterA | filterB }}</p>
      <!-- 接受参数的过滤器 -->
      <p>接受参数的过滤器过滤后的值：{{ message | filterC('arg1', arg2) }}</p>
    </div>
    <script>
      var app = new Vue({
        el: '#app',
        data: {
          message: 'hello Vue!',
          rawId: 'Raw-Id',
          arg2: 'arg2'
          // arg2: ''
        },
        filters: {
          capitalize: function (value) {
            if (!value) return ''
            value = value.toString()
            return value.charAt(0).toUpperCase() + value.slice(1)
          },
          formatId: function (value) {
            if (!value) return ''
            value = value.toString()
            return value.toLowerCase()
          },
          filterA: function (value) {
            if (!value) return ''
            value = value.toString()
            return value.charAt(0).toUpperCase() + value.slice(1)
          },
          filterB: function (value) {
            if (!value) return ''
            value = value.toString()
            return value.slice(0, 5)
          },
          filterC: function (value, arg1, arg2) {
            if (!arg2) return ''
            value = value.toString()
            return value.charAt(0).toUpperCase() + value.slice(1) + ' ' + arg1
          }
        }
      })
    </script>
  </body>
</html>