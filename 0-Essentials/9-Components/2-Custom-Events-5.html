<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>自定义事件#定制组件的 v-model - 组件 - Vue.js</title>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
  </head>
  <body>
    <div id="example">
      <my-checkbox v-model="foo" value="some value"></my-checkbox>
      <!-- 上述代码等价于 -->
      <!-- <my-checkbox
        :checked="foo"
        @change="val => { foo = val }"
        value="some value">
      </my-checkbox> -->
    </div>
    <script>
      Vue.component('my-checkbox', {
        model: {
          prop: 'checked',
          event: 'change'
        },
        props: {
          checked: Boolean,
          // this allows using the `value` prop for a different purpose
          value: String
        },
        // ...
        template: '\
          <div>\
            <input type="checkbox" id="checkbox" :value="value" v-model="checked">\
            <label for="checkbox">{{ checked }}</label>\
          </div>\
        '
      })
      new Vue({
        el: '#example',
        data: {
          foo: false
        }
      })
    </script>
  </body>
</html>